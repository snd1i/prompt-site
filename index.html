<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prompt Site</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background:#f0f0f0;}
  .credit { font-size: 18px; margin-bottom: 20px; }
  .card { background:#fff; padding:15px; margin-bottom:15px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.2);}
  .card img { max-width:100%; border-radius:5px; }
  .card button { margin-top:10px; padding:8px 12px; border:none; background:#4CAF50; color:white; border-radius:5px; cursor:pointer;}
</style>
</head>
<body>

<div class="credit">Credits: <span id="credit">0</span></div>

<script>
let credit = localStorage.getItem("credit");
if (credit === null) { credit = 5; localStorage.setItem("credit", credit); }
credit = parseInt(credit);
document.getElementById("credit").innerText = credit;

const SHEET_ID = "1a4gxpaMg2gHNP9krJtVtqmDwMsvpY1KD1tqIes6zNNY";
const SHEET_NAME = "Sheet1";
const URL = `https://opensheet.elk.sh/${SHEET_ID}/${SHEET_NAME}`;

fetch(URL)
.then(res => res.json())
.then(data => {
  const container = document.createElement("div");
  data.forEach((item, i) => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <img src="${item.image}">
      <button onclick="unlock(${i})">Unlock Prompt (1 Credit)</button>
      <p id="p${i}" style="display:none;margin-top:10px;">${item.prompt}</p>
    `;
    container.appendChild(card);
  });
  document.body.appendChild(container);
})
.catch(err => {
  alert("Sheet error");
  console.log(err);
});

function unlock(i){
  if(credit<=0){ alert("No credits"); return; }
  credit--;
  localStorage.setItem("credit", credit);
  document.getElementById("credit").innerText = credit;
  document.getElementById("p"+i).style.display = "block";
}
</script>

</body>
</html>

